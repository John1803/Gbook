{% extends 'WillothewispGuestbookBundle::layout.html.twig' %}

{% block content -%}
<div class="container">

    {%  include 'WillothewispGuestbookBundle:Post:new.html.twig' with {'form': form} %}

    {% block flashMessage %}
        {% for flashMessage in app.session.flashbag.get('create') %}
            {{ flashMessage }}
        {% endfor %}
    {% endblock %}

</div>
     <table class="records_list">
        <thead>
            <tr>
                <th>Author</th>
                <th>Created</th>
                <th>Website</th>
                <th>Post</th>
                <th>Rating</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for post in posts %}
            <tr>
                <td><a href="{{ path('post_show_by_author', { 'author': post.author }) }}">{{ post.author }}</a> </td>
                <td>{% if post.createdAt %}{{ post.createdAt|date('Y-m-d') }}{% endif %}</td>
                <td><a href="{{ path('post_show_by_domain', { 'url': post.url }) }}">{{ post.url }}</a></td>
                <td>{{ post.post | truncate(100, '...') }}</td>
                <td>{{ post.rating }}</td>

            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}
